<html>
  <head>
    <link rel="stylesheet" href="http://todomvc.com/examples/react/node_modules/todomvc-common/base.css"></link>
    <link rel="stylesheet" href="http://todomvc.com/examples/react/node_modules/todomvc-app-css/index.css"></link>
    <title>ToDo</title>
    <script src='/packages/blossom-js/umd/index.js'></script>
  </head>
  <body class="learn-bar">
    <l-set todos='[{"title": "Some test task", "done": "true"}]'></l-set>
    <section class="todoapp">
      <div>
          <header class="header">
            <h1>todos</h1>
              <l-form l-onsubmit="(event) => {
                  event.preventDefault();
                  this.ctx.todos = [...this.ctx.todos, { title: this.querySelector('input').value, done: false }];
                }">
                  <input class="new-todo" placeholder="What needs to be done?" value="">
              </l-form>
          </header>

          <l-ctx l-toggle="(key) => this.ctx.todos[key].done = !this.ctx.todos[key].done"
                 l-delete="(key) => delete this.ctx.todos[key];">
            <section class="main">
              <input class="toggle-all" type="checkbox">
              <ul class="todo-list">
                  <l-loop l-from="this.ctx.todos" alias-loop="todo">
                      <li class="">
                        <div class="view">
                          <input  l-value="this.ctx.todo.done" 
                                  class="toggle"
                                  type="checkbox"
                                  l-onclick="() => this.ctx.toggle(this.ctx.key)">
                          <label><l-js>this.ctx.todo.title</l-js></label>
                          <button class="destroy" l-onclick="() => this.ctx.delete(this.ctx.key)"></button>
                        </div>
                      </li>
                  </l-loop>
              </ul>
            </section>
          </l-ctx>

          <footer class="footer" >
            <span class="todo-count"><strong><l-js>this.ctx.todos.length</l-js></strong> Tasks</span>
            <ul class="filters">
                <li ><a href="#/" class="selected">All</a></li>
                <span > </span>
                <li ><a href="#/active" class="">Active</a></li>
                <span > </span>
                <li ><a href="#/completed" class="">Completed</a></li>
            </ul>
          </footer>
      </div>
    </section>    
    <footer class="info">
      <p>Inspired by <a href="http://todomvc.com">TodoMVC</a></p>
    </footer>
  </body>
</html>